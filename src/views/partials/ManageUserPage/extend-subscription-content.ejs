    <!-- User Table -->
    <div class="bg-white shadow rounded-md overflow-hidden">
        <table class="min-w-full text-base text-gray-700">
            <thead class="bg-gray-200">
                <tr>
                    <th class="px-6 py-3 text-left font-semibold">Tên</th>
                    <th class="px-6 py-3 text-left font-semibold">Tài khoản</th>
                    <th class="px-6 py-3 text-left font-semibold">Vai trò</th>
                    <th class="px-6 py-3 text-left font-semibold">Thời điểm tạo</th>
                    <th class="px-6 py-3 text-left font-semibold">Hết hạn sau</th>
                    <th class="px-6 py-3 text-left font-semibold">Hành động</th>
                </tr>
            </thead>
            <tbody>
                <% 
                // in role thành tiếng việt
                const roleMap = {
                    'admin': 'Quản trị viên',
                    'subscriber': 'Độc giả',
                    'editor': 'Biên tập viên',
                    'author': 'Phóng viên',
                };
                %>
                <% users.forEach(userData=> { %>
                    <% 
                    // Tách phần ngày tháng năm từ createdAt
                    const createdAt = new Date(userData.createdAt); // Chuyển đổi thành đối tượng Date
                    const day = createdAt.getDate().toString().padStart(2, '0'); // Lấy ngày
                    const month = (createdAt.getMonth() + 1).toString().padStart(2, '0'); // Lấy tháng (tháng bắt đầu từ 0, cộng thêm 1)
                    const year = createdAt.getFullYear(); // Lấy năm
                    const formattedDate = `${day}/${month}/${year}`; // Định dạng ngày tháng năm
                %>
                <tr class="border-t">
                    <td class="px-6 py-3"><%- userData.name %></td>
                    <td class="px-6 py-3"><%- userData.email %></td>
                    <td class="px-6 py-3"><%= roleMap[userData.role] || userData.role %></td>
                    <td class="px-6 py-3"><%= formattedDate %></td>
                    <td class="px-6 py-3"><%- userData.subscriptionExpiry %> phút</td>
                    <td class="px-6 py-3">
                        <button class="bg-blue-500 text-white px-4 py-1 rounded-md hover:bg-blue-700 transition">
                            Gia hạn
                        </button>
                    </td>
                </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
     <!-- Pagination -->
 <% if (pagination.totalPages> 1) { %>
    <div class="flex justify-center mt-8 gap-2">
        <% for(let i=1; i <=pagination.totalPages; i++) { %>
            <button data-page="<%= i %>"
                class="pagination-btn px-4 py-2 rounded <%= i === pagination.currentPage ? 'bg-blue-600 text-white' : 'bg-gray-200 hover:bg-gray-300' %>">
                <%= i %>
            </button>
            <% } %>
    </div>
    <% } %>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const buttons = document.querySelectorAll('.pagination-btn');

        buttons.forEach(button => {
            button.addEventListener('click', function () {
                const page = this.dataset.page;
                // Use window.location to reload page with new page parameter
                window.location.href = `/manage-user/?page=${page}`;
            });
        });
    });
</script>