<div class="main-slider-container max-w-[90rem] mx-auto px-4 sm:px-6 lg:px-8 py-6 relative">
    <button class="main-prev absolute -left-4 top-1/2 transform -translate-y-1/2  text-black p-2 rounded-full">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
    </button>
    <button class="main-next absolute -right-4 top-1/2 transform -translate-y-1/2  text-black p-2 rounded-full">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
    </button>
    <div class="main-slider flex overflow-hidden max-w-full mx-auto bg-gray-200 text-black rounded-lg">
        <% articles.forEach(article=> { %>
            <a href="/article/<%= article._id %>" class="flex-shrink-0 grid grid-cols-[6fr_4fr] w-full h-full gap-4 cursor-pointer">
                <!-- Image Section -->
                <div class="relative rounded-lg w-full h-full p-4">
                    <!-- Điều chỉnh chiều cao ảnh theo tỷ lệ -->
                    <div class="relative w-full h-0 pb-[56.25%]">
                        <img src="<%= article.image %>" alt="<%= article.name %>"
                            class="object-cover absolute top-0 left-0 w-full h-full rounded-lg">
                            <div class="absolute top-1 left-0">
                                <% if (article.isPremium) { %>
                                    <svg class="w-12 h-12 text-yellow-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
                                        height="24" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M11 9a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z" />
                                        <path fill-rule="evenodd"
                                            d="M9.896 3.051a2.681 2.681 0 0 1 4.208 0c.147.186.38.282.615.255a2.681 2.681 0 0 1 2.976 2.975.681.681 0 0 0 .254.615 2.681 2.681 0 0 1 0 4.208.682.682 0 0 0-.254.615 2.681 2.681 0 0 1-2.976 2.976.681.681 0 0 0-.615.254 2.682 2.682 0 0 1-4.208 0 .681.681 0 0 0-.614-.255 2.681 2.681 0 0 1-2.976-2.975.681.681 0 0 0-.255-.615 2.681 2.681 0 0 1 0-4.208.681.681 0 0 0 .255-.615 2.681 2.681 0 0 1 2.976-2.975.681.681 0 0 0 .614-.255ZM12 6a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"
                                            clip-rule="evenodd" />
                                        <path
                                            d="M5.395 15.055 4.07 19a1 1 0 0 0 1.264 1.267l1.95-.65 1.144 1.707A1 1 0 0 0 10.2 21.1l1.12-3.18a4.641 4.641 0 0 1-2.515-1.208 4.667 4.667 0 0 1-3.411-1.656Zm7.269 2.867 1.12 3.177a1 1 0 0 0 1.773.224l1.144-1.707 1.95.65A1 1 0 0 0 19.915 19l-1.32-3.93a4.667 4.667 0 0 1-3.4 1.642 4.643 4.643 0 0 1-2.53 1.21Z" />
                                    </svg>
                                    <% } %>
                            </div>
                    </div>
                </div>

                <!-- Content Section -->
                <div class="px-4 flex flex-col space-y-6 w-full h-full">
                    <!-- Date -->
                    <div class="text-[1rem] text-gray-500 flex justify-end">
                        <%= article.publishedAt ? article.publishedAt.split(',')[1]?.trim() || article.publishedAt : 'No date' %>
                    </div>

                    <div class="flex flex-col pt-16">
                        <!-- Title -->
                        <span class="font-semibold text-2xl sm:text-3xl block pb-4 line-clamp-1">
                            <%= article.name %>
                        </span>
                        <!-- Category -->
                        <div class="my-2">
                            <% if (article.category && article.category.length> 0) { %>
                                <!-- Main Category -->
                                <div class="flex flex-wrap gap-2">
                                    <% const mainCategory=categories.find(cat=> cat._id === article.category[0]); %>
                                        <span class="bg-gray-300 px-2 py-1 rounded-md text-sm sm:text-md text-black">
                                            <%= mainCategory ? mainCategory.name : 'Unknown Category' %>
                                        </span>
                                </div>
                                <% if (article.subcategories && article.subcategories.length> 0) { %>
                                    <!-- Subcategories -->
                                    <div class="mt-2 flex flex-wrap gap-2">
                                        <% article.subcategories.forEach(subId=> {
                                            const subCategory = categories.find(cat => cat._id === subId);
                                            %>
                                            <span
                                                class="bg-[#3E3232] opacity-75 px-2 py-1 rounded-md cursor-pointer text-sm sm:text-md text-white hover:bg-[#6a5757]">
                                                <%= subCategory ? subCategory.name : 'Unknown Subcategory' %>
                                            </span>
                                            <% }); %>
                                    </div>
                                    <% } %>
                                        <% } %>
                        </div>
                        <!-- Content -->
                        <div class="rounded-lg max-w-full h-auto">
                            <p class="text-lg text-black line-clamp-3">
                                <%= article.content %>
                            </p>
                        </div>
                    </div>
                </div>
            </a>
            <% }); %>
    </div>
</div>